<!doctype html>

<html>
	<head>
		<title> Half-Life Quiz </title>
		<link rel="stylesheet" href="format.css">
	</head>
	<body>
		<div id="half-life">
			<div id="body">
				<div id="header">
					<h1> Half-Life Quiz </h1>
					<h4> <em> Run. Think. Shoot. Live. </em> </h4>
				</div>
				<br/>
				<div id="middle">
					<a href="index.html"> Home Page </a>
				</div>

				<div id="q1" class="question">
					<p><b>Which of these weapons are not obtainable in the original Half-Life game? </b></p>
					<input type="radio" name="1" value="A"> A: Gluon Gun/Quantum Destabilizer </input>
					<br/>
					<input type="radio" name="1" value="B"> B: Satchel Charge </input>
					<br/>
					<input type="radio" name="1" value="C"> C: M40A1 Sniper Rifle </input>
					<br/>
					<input type="radio" name="1" value="D"> D: .357 Magnum/Colt Python Revolver </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: C </p>
				</div>

				<div id="q2" class="question" hidden>
					<p><b> Which of these are not an enemy fought in the original Half-Life game? </b></p>
					<input type="radio" name="2" value="A"> A: AH-64 Apache </input>
					<br/>
					<input type="radio" name="2" value="B"> B: F-16 Fighting Falcon </input>
					<br/>
					<input type="radio" name="2" value="C"> C: M1A1 Abrams </input>
					<br/>
					<input type="radio" name="2" value="D"> D: M2A3 Bradley </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: B </p>
				</div>

				<div id="q3" class="question" hidden>
					<p><b> True or False: Gordon Freeman is the first person to enter Xen. </b></p>
					<input type="radio" name="3" value="T"> True </input>
					<br/>
					<input type="radio" name="3" value="F"> False </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: False </p>
				</div>

				<div id="q4" class="question" hidden>
					<p><b> Who was the administrator of the Black Mesa Research Facility during the resonance cascade? </b></p>
					<input type="radio" name="4" value="A"> A: Dr. Eli Vance </input>
					<br/>
					<input type="radio" name="4" value="B"> B: Dr. Isaac Kleiner </input>
					<br/>
					<input type="radio" name="4" value="C"> C: Dr. Wallace Breen </input>
					<br/>
					<input type="radio" name="4" value="D"> D: Dr. Gordon Freeman </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: C </p>
				</div>

				<div id="q5" class="question" hidden>
					<p><b> According to official sources, in what year did the resonance cascade take place? </b></p>
					<input type="radio" name="5" value="A"> A: 1983 </input>
					<br/>
					<input type="radio" name="5" value="B"> B: 1998 </input>
					<br/>
					<input type="radio" name="5" value="C"> C: 199- </input>
					<br/>
					<input type="radio" name="5" value="D"> D: 200- </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: D </p>
				</div>

				<div id="q6" class="question" hidden>
					<p><b> In what chapter of the original Half-Life game can the crossbow first be acquired? </b></p>
					<input type="radio" name="6" value="A"> A: On A Rail </input>
					<br/>
					<input type="radio" name="6" value="B"> B: Apprehension </input>
					<br/>
					<input type="radio" name="6" value="C"> C: Questionable Ethics </input>
					<br/>
					<input type="radio" name="6" value="D"> D: Surface Tension </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: B </p>
				</div>

				<div id="q7" class="question" hidden>
					<p><b> How many gargantuas were encountered in the Black Mesa facility in the original Half-Life game? </b></p>
					<input type="radio" name="7" value="A"> A: 1 </input>
					<br/>
					<input type="radio" name="7" value="B"> B: 2 </input>
					<br/>
					<input type="radio" name="7" value="C"> C: 3 </input>
					<br/>
					<input type="radio" name="7" value="D"> D: 4 </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: B </p>
				</div>

				<div id="q8" class="question" hidden>
					<p><b> Where did Dr. Gordon Freeman earn his Ph.D.? </b></p>
					<input type="radio" name="8" value="A"> A: Stanford </input>
					<br/>
					<input type="radio" name="8" value="B"> B: Princeton </input>
					<br/>
					<input type="radio" name="8" value="C"> C: M.I.T. </input>
					<br/>
					<input type="radio" name="8" value="D"> D: The University of New Mexico </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: C </p>
				</div>

				<div id="q9" class="question" hidden>
					<p><b> What does H.E.C.U. stand for? </b></p>
					<input type="radio" name="9" value="A"> A: Hostile Engagement Control Unit </input>
					<br/>
					<input type="radio" name="9" value="B"> B: Hazardous Environment Combat Unit </input>
					<br/>
					<input type="radio" name="9" value="C"> C: Hostage Extraction/Coordination Unit </input>
					<br/>
					<input type="radio" name="9" value="D"> D: Homeland Enemy Counterstrike Unit </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: B </p>
				</div>

				<div id="q10" class="question" hidden>
					<p><b> What is the Black Mesa motto? </b></p>
					<input type="radio" name="10" value="A"> A: "Working to make a better tomorrow for all mankind" </input>
					<br/>
					<input type="radio" name="10" value="B"> B: "We do what we must because we can" </input>
					<br/>
					<input type="radio" name="10" value="C"> C: "Spes per scientiam" </input>
					<br/>
					<input type="radio" name="10" value="D"> D: "A clear focus on the future" </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: A </p>
				</div>

				<div id="q11" class="question" hidden>
					<p><b> Which of these are a direct competitor to the Black Mesa Research Facility? </b></p>
					<input type="radio" name="11" value="A"> A: Aperture Science </input>
					<br/>
					<input type="radio" name="11" value="B"> B: The Umbrella Corporation </input>
					<br/>
					<input type="radio" name="11" value="C"> C: The S.C.P. Foundation </input>
					<br/>
					<input type="radio" name="11" value="D"> D: Militech </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: A </p>
				</div>

				<div id="q12" class="question" hidden>
					<p><b> Which of these is not an area visited in the original Half-Life game? </b></p>
					<input type="radio" name="12" value="A" id="TEST"> A: Sector G Hydro Electric </input>
					<br/>
					<input type="radio" name="12" value="B"> B: Topside Motorpool </input>
					<br/>
					<input type="radio" name="12" value="C"> C: Sector F Lambda Complex </input>
					<br/>
					<input type="radio" name="12" value="D"> D: Freight Yard </input>
					<p class="correct" hidden> Your Answer: # </p>
					<p class="correct" hidden> Correct Answer: D </p>
				</div>

				<br/>
				<h3 id="result" hidden> Your Score: 0% </h3>
				<button id="back" onclick="back()" hidden> Back </button>
				<button id="next" onclick="next()"> Next </button>
				<button id="score" onclick="score()" hidden> Score Quiz </button>
				<script>
					var curQNum = 1;
					var numTotal = document.getElementsByClassName("question").length;

					function next(){
						// After the first question, show the back button
						if (curQNum == 1){
							document.getElementById("back").removeAttribute("hidden");
						}
						document.getElementById("q" + curQNum.toString()).setAttribute("hidden", "hidden");  // Hide the current question
						curQNum += 1;
						document.getElementById("q" + curQNum.toString()).removeAttribute("hidden");  // Show the next question
						// For the last question, replace the next button with the score button
						if (curQNum == numTotal){
							document.getElementById("next").setAttribute("hidden", "hidden");
							document.getElementById("score").removeAttribute("hidden");
						}
					}

					function back(){
						document.getElementById("q" + curQNum.toString()).setAttribute("hidden", "hidden");  // Hide the current question
						curQNum -= 1;
						document.getElementById("q" + curQNum.toString()).removeAttribute("hidden");  // Show the previous question
						// If you are on the first question, hide the back button
						if (curQNum <= 1) {
							document.getElementById("back").setAttribute("hidden", "hidden");
						}
						// If you click back on the last question, replace the score button with the next button
						if (curQNum == 11){
							document.getElementById("score").setAttribute("hidden", "hidden");
							document.getElementById("next").removeAttribute("hidden");
						}
					}

					function score(){
						var numCorrect = 0;
						const questionsAry = Array.from(document.querySelectorAll(".question"));
						const correctAnsAry = ["C", "B", "F", "C", "D", "B", "B", "C", "B", "A", "A", "D"];
						var userAnswers = [];
						var i = 1;
						while (i <= questionsAry.length){  // For each question
							var qButtons = Array.from(document.getElementsByName(i.toString()));  // Get the answer radio buttons
							var qCntr = 0;
							while (qCntr < qButtons.length){  // For each radio button
								if (qButtons[qCntr].checked){  // If it is checked
									userAnswers.push(qButtons[qCntr].value);  // Add it to the userAnswers array
								}
								qCntr++;
							}
							if (userAnswers.length != i){  // If no answer is selected
								window.alert("You haven't answered question " + i.toString() + "!");
								return "";  // Exit the function
							}
							// Say which answer the user selected
							document.querySelector("#" + "q" + i.toString() + " .correct").innerHTML = "Your Answer: " + userAnswers[i-1];
							i++;
						}

						// Score answers
						i = 0;
						while (i < correctAnsAry.length){
							if (userAnswers[i] == correctAnsAry[i]){
								numCorrect++;
							}
							i++;
						}

						document.getElementById("back").setAttribute("hidden", "hidden");  // Hide the back button on the results page
						document.getElementById("q" + curQNum.toString()).setAttribute("hidden", "hidden");  // Hide the current question

						// Hide each question div
						i = 0;
						while (i < questionsAry.length){
							questionsAry[i].setAttribute("hidden", "hidden")
							i++;
						}
						
						// Show correct answers
						const correctAnsTxt = Array.from(document.querySelectorAll(".correct"));
						i = 0;
						while (i < correctAnsTxt.length){
							correctAnsTxt[i].removeAttribute("hidden")
							i++;
						}
						const allQs = Array.from(document.querySelectorAll(".question"));
						i = 0;
						while (i < allQs.length){
							allQs[i].removeAttribute("hidden")
							i++;
						}
						
						document.getElementById("score").setAttribute("hidden", "hidden");
						document.getElementById("result").removeAttribute("hidden");
						document.getElementById("result").innerHTML = "Your Score: " + Math.floor((numCorrect/numTotal)*100) + "%";
						// Scroll to bottom to see score
						window.scrollTo(0, document.body.scrollHeight);  // Code from https://stackoverflow.com/questions/11715646/scroll-automatically-to-the-bottom-of-the-page
					}
				</script>
			</div>
		</div>
	</body>
</html>
